<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>기억력 챌린지</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'IBM Plex Sans KR', sans-serif;
            overflow: hidden;
            background-color: #87CEEB; /* 하늘색 배경 */
        }
        #game-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        #ui-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* UI가 3D 뷰를 가리지 않도록 */
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            pointer-events: auto; /* 오버레이 내 버튼 등은 클릭 가능하도록 */
        }
        #message-box {
            position: absolute;
            opacity: 0; /* 기본적으로 숨김 */
        }
        .key-indicator {
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 0.8rem;
            padding: 1rem 1.5rem;
            color: white;
            font-weight: bold;
            font-size: 1.4rem;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.2s ease;
        }
        
        .key-indicator:hover {
            background-color: rgba(0, 0, 0, 0.7);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .key-indicator:active {
            transform: scale(0.95);
        }
        .life {
            width: 40px;
            height: 40px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24" fill="red"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            transition: transform 0.2s ease-in-out;
        }
        .life.lost {
            transform: scale(0);
        }
        .timer-bar {
            height: 10px;
            background-color: #4CAF50;
            border-radius: 5px;
            transition: width 0.1s linear;
        }
        #progress-container {
            position: absolute;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }
        .progress-dot {
            width: 60px;
            height: 60px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border: 3px solid rgba(34, 197, 94, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            color: rgba(34, 197, 94, 0.8);
            font-size: 32px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }
        
        /* 텍스트 애니메이션 */
        @keyframes slide-up {
            from { opacity: 0; transform: translate(-50%, -250%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -320%) scale(1); }
        }
        .animate-up { animation: slide-up 0.3s ease-out forwards; }

        @keyframes slide-down {
            from { opacity: 0; transform: translate(-50%, 200%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, 450%) scale(1); }
        }
        .animate-down { animation: slide-down 0.3s ease-out forwards; }

        @keyframes slide-left {
            from { opacity: 0; transform: translate(-180%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-220%, -50%) scale(1); }
        }
        .animate-left { animation: slide-left 0.3s ease-out forwards; }

        @keyframes slide-right {
            from { opacity: 0; transform: translate(80%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(120%, -50%) scale(1); }
        }
        .animate-right { animation: slide-right 0.3s ease-out forwards; }


        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        #start-button.pulsing {
             animation: pulse 2s infinite;
        }
        #flash-overlay {
            transition: opacity 0.1s ease-out;
        }
        #volume-controls {
            pointer-events: auto;
        }
        
        /* 플랫한 세로 슬라이더 */
        .slider-flat {
            -webkit-appearance: none;
            appearance: none;
            background: #333;
            outline: none;
            border: none;
            border-radius: 2px;
            writing-mode: bt-lr; /* IE */
            -webkit-appearance: slider-vertical; /* WebKit */
            transition: background-color 0.2s ease;
        }
        
        .slider-flat:hover {
            background: #444;
        }
        
        .slider-flat::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #333;
            border-radius: 2px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .slider-flat::-webkit-slider-thumb:hover {
            background: #f0f0f0;
            border-color: #555;
        }
        
        .slider-flat::-webkit-slider-thumb:active {
            background: #e0e0e0;
            transform: scale(0.95);
        }
        
        .slider-flat::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 2px solid #333;
            border-radius: 2px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .slider-flat::-moz-range-thumb:hover {
            background: #f0f0f0;
            border-color: #555;
        }
        
        /* Firefox에서 세로 슬라이더 지원 */
        .slider-flat[orient="vertical"] {
            writing-mode: bt-lr;
            -webkit-appearance: slider-vertical;
        }
        
        /* IQ 숫자 zoom 효과 */
        .iq-zoom {
            animation: iqZoom 0.6s ease-in-out;
        }
        
        @keyframes iqZoom {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body class="bg-gray-800 text-white">

    <div id="game-container">
        <!-- 3D 렌더링이 이루어질 캔버스. 두근-->
        <div id="canvas-container" class="w-full h-full"></div>
        
        <div id="flash-overlay" class="absolute inset-0 bg-red-500 opacity-0 pointer-events-none"></div>

        <!-- 게임 UI -->
        <div id="ui-layer">
             <!-- 상단 UI: 스테이지, 라이프 -->
            <div class="w-full flex justify-between items-center p-4 md:p-8">
                <h1 id="stage-display" class="text-2xl md:text-4xl font-bold text-white" style="text-shadow: 2px 2px 4px #000000;"></h1>
                <div id="lives-container" class="flex space-x-2">
                    <div class="life"></div>
                    <div class="life"></div>
                    <div class="life"></div>
                </div>
            </div>
            
            <!-- 진행상황ㅇ 표시 -->
            <div id="progress-container"></div>

            <!-- 중앙: 캐릭터 멘트 -->
            <div id="message-box" class="text-6xl md:text-8xl font-bold text-yellow-300" style="text-shadow: 3px 3px 6px #000000;"></div>
            <!-- // 하단 UI: 타이머 -->
            <div class="absolute bottom-0 left-0 right-0 w-full flex flex-col items-center space-y-4 p-4 md:p-8">
                 <div id="timer-container" class="w-full max-w-md bg-gray-700 rounded-full overflow-hidden opacity-0">
                    <div id="timer-bar" class="timer-bar"></div>
                </div>
            </div>

            <!-- 좌측 하단: 볼륨 조절 -->
            <div id="volume-controls" class="absolute bottom-4 left-4 flex space-x-6 bg-black bg-opacity-70 p-6 rounded-xl backdrop-blur-sm border border-white border-opacity-30">
                <!-- 배경음악 -->
                <div class="flex flex-col items-center space-y-3">
                    <div class="flex flex-col items-center space-y-1">
                        <span class="text-white text-sm font-semibold">음악</span>
                    </div>
                    <div class="relative">
                        <input type="range" id="bgm-volume" min="0" max="100" class="w-4 h-32 appearance-none cursor-pointer slider-flat" orient="vertical">
                    </div>
                </div>
                
                <!-- 효과음 -->
                <div class="flex flex-col items-center space-y-3">
                    <div class="flex flex-col items-center space-y-1">
                        <span class="text-white text-sm font-semibold">소리</span>
                    </div>
                    <div class="relative">
                        <input type="range" id="sfx-volume" min="0" max="100" class="w-4 h-32 appearance-none cursor-pointer slider-flat" orient="vertical">
                    </div>
                </div>
            </div>

            <!-- 우측 하단: 화살표 버튼 -->
            <div class="absolute bottom-4 right-4 pointer-events-auto">
                <!-- 화살표 방향에 맞는 배열 -->
                <div class="flex flex-col items-center space-y-2">
                    <!-- 위쪽 화살표 -->
                    <button class="key-indicator hover:bg-opacity-80 transition-all duration-200 transform hover:scale-105 active:scale-95 cursor-pointer" data-key="ArrowUp">↑ 트렌드리딩</button>
                    
                    <!-- 좌우 화살표 -->
                    <div class="flex space-x-4">
                        <button class="key-indicator hover:bg-opacity-80 transition-all duration-200 transform hover:scale-105 active:scale-95 cursor-pointer" data-key="ArrowLeft">← 협업,소통</button>
                        <button class="key-indicator hover:bg-opacity-80 transition-all duration-200 transform hover:scale-105 active:scale-95 cursor-pointer" data-key="ArrowRight">→ 함께성장</button>
                    </div>
                    
                    <!-- 아래쪽 화살표 -->
                    <button class="key-indicator hover:bg-opacity-80 transition-all duration-200 transform hover:scale-105 active:scale-95 cursor-pointer" data-key="ArrowDown">↓ 강한실행력</button>
                </div>
            </div>
        </div>

        <!-- 시작 화면 -->
        <div id="start-screen" class="overlay absolute inset-0 bg-black bg-opacity-70 flex flex-col justify-center items-center text-center p-4">
            <h1 class="text-5xl md:text-7xl font-bold mb-4">올영력 챌린지!</h1>
            <p class="text-lg md:text-xl mb-8 max-w-2xl">
            
            올리브영의 일하는 방식 구호에 맞춰 케릭터가 움직이고 키보드 화살표가 눌립니다. <br>그 동작을 차례대로 기억해 두었다가, 구호가 끝나면 키보드를 눌러 따라해주세요!</p>
            <button id="start-button" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-2xl transition-transform transform hover:scale-105">시작하기</button>
        </div>

        <!-- 게임 오버 화면 -->

        <div id="game-over-screen" class="overlay absolute inset-0 bg-black bg-opacity-70 flex flex-col justify-center items-center text-center p-4 hidden">
            <h1 class="text-6xl md:text-8xl font-bold mb-4">게임 오버!!</h1>
            <button id="retry-button" class="bg-green-500 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg text-2xl transition-transform transform hover:scale-105">다시 도전</button>
        </div>
    </div>
    
    
    <audio id="bgm" loop src="Pixel Dreams.mp3"></audio>

    <script>
const a0_0x2890e9=a0_0x2487;(function(_0x5c1bcb,_0x5e08d9){const _0x3d1089=a0_0x2487,_0x3a7ced=_0x5c1bcb();while(!![]){try{const _0x3a549c=parseInt(_0x3d1089(0x20f))/0x1+-parseInt(_0x3d1089(0x246))/0x2+-parseInt(_0x3d1089(0x29a))/0x3*(parseInt(_0x3d1089(0x1ee))/0x4)+-parseInt(_0x3d1089(0x22e))/0x5+parseInt(_0x3d1089(0x1ec))/0x6*(-parseInt(_0x3d1089(0x2d9))/0x7)+-parseInt(_0x3d1089(0x260))/0x8*(parseInt(_0x3d1089(0x296))/0x9)+-parseInt(_0x3d1089(0x2df))/0xa*(-parseInt(_0x3d1089(0x2ad))/0xb);if(_0x3a549c===_0x5e08d9)break;else _0x3a7ced['push'](_0x3a7ced['shift']());}catch(_0x10e148){_0x3a7ced['push'](_0x3a7ced['shift']());}}}(a0_0x3b7c,0xeda4c));const INITIAL_LIVES=0x3,INITIAL_STAGE=0x1,INITIAL_SEQUENCE_SPEED=0x320,INITIAL_TIME_LIMIT=0x1388,SHAKE_INTENSITY=0.1,BGM_DEFAULT_VOLUME=0x32,SFX_DEFAULT_VOLUME=0x50;let scene,camera,renderer,character,clock,waterParticles=[],birds=[],hotAirBalloons=[];const canvasContainer=document[a0_0x2890e9(0x24e)]('canvas-container');let mouse=new THREE[(a0_0x2890e9(0x2be))]();const keywords={'ArrowUp':'↑\x20트렌드리딩','ArrowDown':a0_0x2890e9(0x2a6),'ArrowLeft':a0_0x2890e9(0x263),'ArrowRight':a0_0x2890e9(0x23b)},arrowIcons={'ArrowUp':'↑','ArrowDown':'↓','ArrowLeft':'←','ArrowRight':'→'};let gameState=a0_0x2890e9(0x2ab),sequence=[],playerInput=[],stage,lives,sequenceSpeed,timeLimit,timerInterval,shakeDuration=0x0;const stageDisplay=document[a0_0x2890e9(0x24e)](a0_0x2890e9(0x2b5)),livesContainer=document['getElementById'](a0_0x2890e9(0x218)),messageBox=document['getElementById'](a0_0x2890e9(0x2a3)),startScreen=document[a0_0x2890e9(0x24e)](a0_0x2890e9(0x232)),gameOverScreen=document[a0_0x2890e9(0x24e)](a0_0x2890e9(0x274)),startButton=document['getElementById']('start-button'),retryButton=document[a0_0x2890e9(0x24e)](a0_0x2890e9(0x252)),timerContainer=document[a0_0x2890e9(0x24e)](a0_0x2890e9(0x20c)),timerBar=document[a0_0x2890e9(0x24e)](a0_0x2890e9(0x24f)),progressContainer=document[a0_0x2890e9(0x24e)](a0_0x2890e9(0x2b6)),flashOverlay=document[a0_0x2890e9(0x24e)]('flash-overlay'),bgm=document[a0_0x2890e9(0x24e)]('bgm'),bgmVolumeSlider=document[a0_0x2890e9(0x24e)](a0_0x2890e9(0x28c)),sfxVolumeSlider=document[a0_0x2890e9(0x24e)](a0_0x2890e9(0x20a));let audioCtx,sfxVolume=SFX_DEFAULT_VOLUME/0x64;function a0_0x2487(_0x420e81,_0x568f3d){const _0x3b7c23=a0_0x3b7c();return a0_0x2487=function(_0x2487d3,_0x4e131c){_0x2487d3=_0x2487d3-0x1e9;let _0x4e749d=_0x3b7c23[_0x2487d3];return _0x4e749d;},a0_0x2487(_0x420e81,_0x568f3d);}function init3D(){const _0x4c7140=a0_0x2890e9,scene=new THREE[(_0x4c7140(0x2c0))](),scene[_0x4c7140(0x28d)]=new THREE[(_0x4c7140(0x29b))](0x87ceeb),scene[_0x4c7140(0x29c)]=new THREE[(_0x4c7140(0x29d))](0x87ceeb,0x14,0x50),camera=new THREE[(a0_0x2890e9(0x29e))](0x4b,canvasContainer[a0_0x2890e9(0x29f)]/canvasContainer[a0_0x2890e9(0x2a0)],0.1,0x3e8),camera[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](0x0,0x4,0x5),camera[a0_0x2890e9(0x2a4)](0x0,0.5,0x0),renderer=new THREE[(a0_0x2890e9(0x2a5))]({'antialias':!![]}),renderer[a0_0x2890e9(0x2a7)](canvasContainer[a0_0x2890e9(0x29f)],canvasContainer[a0_0x2890e9(0x2a0)]),renderer[a0_0x2890e9(0x2a8)](window[a0_0x2890e9(0x2a9)]),renderer[a0_0x2890e9(0x2aa)][a0_0x2890e9(0x2ac)]=!![],canvasContainer[a0_0x2890e9(0x2ae)](renderer[a0_0x2890e9(0x2af)]),clock=new THREE[(_0x4c7140(0x2b0))]();const _0x4a995a=new THREE[(a0_0x2890e9(0x2b1))](0xffffff,0.7);scene[_0x4c7140(0x2b2)](_0x4a995a);const _0x4d839e=new THREE[(a0_0x2890e9(0x2b3))](0xffffff,0.8);_0x4d839e[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](0x5,0xa,7.5),_0x4d839e[a0_0x2890e9(0x2b4)]=!![],_0x4d839e[a0_0x2890e9(0x2aa)][a0_0x2890e9(0x2b7)][a0_0x2890e9(0x2b8)]=0x800,_0x4d839e[_0x4c7140(0x2aa)][_0x4c7140(0x2b7)][_0x4c7140(0x2b9)]=0x800,scene[_0x4c7140(0x2b2)](_0x4d839e);const _0x16e70e=new THREE[(a0_0x2890e9(0x2ba))](0x64,0x64),_0x36e1d8=new THREE[(a0_0x2890e9(0x2bb))]({'color':0x4caf50}),_0x46801c=new THREE[(_0x4c7140(0x2bc))](_0x16e70e,_0x36e1d8);_0x46801c[a0_0x2890e9(0x2bd)][x']=-Math[a0_0x2890e9(0x2bf)]/0x2,_0x46801c[a0_0x2890e9(0x2a1)][y']=-0.4,_0x46801c[a0_0x2890e9(0x2c1)]=!![],scene[a0_0x2890e9(0x2b2)](_0x46801c),createFoliage(),createClouds(),createBirds(),createHotAirBalloons(),createCharacter(),setTimeout(()=>{const _0x197882=a0_0x2890e9;gameState===_0x197882(0x2ab)&&startWalking();},0x3e8),animate();}function createHotAirBalloons(){const _0x12600f=a0_0x2890e9;for(let _0x484a6a=0x0;_0x484a6a<0x8;_0x484a6a++){const _0x1e1209=new THREE[(_0x12600f(0x2c2))](),_0x40d89a=new THREE[(a0_0x2890e9(0x2c3))](1.5,0x10,0x10),_0x25e30c=new THREE[(a0_0x2890e9(0x2bb))]({'color':new THREE[(a0_0x2890e9(0x29b))](Math[a0_0x2890e9(0x2c4)](),Math[a0_0x2890e9(0x2c4)](),Math[a0_0x2890e9(0x2c4)]())}),_0x438a41=new THREE[(a0_0x2890e9(0x2bc))](_0x40d89a,_0x25e30c),_0x5a7568=new THREE[(a0_0x2890e9(0x2c5))](0.8,0.6,0.8),_0x1239f3=new THREE[(a0_0x2890e9(0x2bb))]({'color':0x8b4513}),_0x40e083=new THREE[(a0_0x2890e9(0x2bc))](_0x5a7568,_0x1239f3);_0x40e083[a0_0x2890e9(0x2a1)][y']=-1.8,_0x1e1209[a0_0x2890e9(0x2b2)](_0x438a41),_0x1e1209[a0_0x2890e9(0x2b2)](_0x40e083),_0x1e1209[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)]((Math[a0_0x2890e9(0x2c4)]()-0.5)*0x3c,Math[a0_0x2890e9(0x2c4)]()*0x8+0x5,(Math[a0_0x2890e9(0x2c4)]()-0.5)*0x28-0x19),scene[a0_0x2890e9(0x2b2)](_0x1e1209),hotAirBalloons[a0_0x2890e9(0x2c6)](_0x1e1209);}}function createFoliage(){const _0x414b6a=a0_0x2890e9,_0x4c8862=[0xff69b4,0xffff00,0xffffff],_0x18352c=new THREE[(_0x414b6a(0x2c2))](),_0x48e103=new THREE[(a0_0x2890e9(0x2c7))](0.02,0.02,0.3,0x5),_0x59b017=new THREE[(a0_0x2890e9(0x2bb))]({'color':0x8000});for(let _0x1a22f8=0x0;_0x1a22f8<0x12c;_0x1a22f8++){const _0x4605d7=new THREE[(_0x414b6a(0x2bc))](_0x48e103,_0x59b017),_0x59e633=(Math[a0_0x2890e9(0x2c4)]()-0.5)*0x32,_0x1a868d=(Math[a0_0x2890e9(0x2c4)]()-0.5)*0x32;_0x4605d7[a0_0x2890e9(0x2a1)][x']=_0x59e633,_0x4605d7[a0_0x2890e9(0x2a1)][y']=-0.25,_0x4605d7[a0_0x2890e9(0x2bd)][x']=(Math[a0_0x2890e9(0x2c4)]()-0.5)*0.2,_0x4605d7[a0_0x2890e9(0x2bd)][y']=(Math[a0_0x2890e9(0x2c4)]()-0.5)*0.2,_0x18352c[a0_0x2890e9(0x2b2)](_0x4605d7);}const _0x120f23=new THREE[(a0_0x2890e9(0x2c7))](0.03,0.03,0.5,0x5),_0x2b7f3c=new THREE[(a0_0x2890e9(0x2bb))]({'color':0x228b22}),_0x3e806c=new THREE[(a0_0x2890e9(0x2c3))](0.1,0x8,0x8);for(let _0x18e611=0x0;_0x18e611<0x32;_0x18e611++){const _0x1265a3=new THREE[(_0x414b6a(0x2c2))](),_0x488423=new THREE[(_0x414b6a(0x2bc))](_0x120f23,_0x2b7f3c),_0x1f012a=new THREE[(a0_0x2890e9(0x2bb))]({'color':_0x4c8862[Math[a0_0x2890e9(0x2c8)](Math[a0_0x2890e9(0x2c4)]()*_0x4c8862[a0_0x2890e9(0x2c9)])]}),_0x4611d1=new THREE[(a0_0x2890e9(0x2bc))](_0x3e806c,_0x1f012a);_0x4611d1[a0_0x2890e9(0x2a1)][y']=0.25,_0x1265a3[a0_0x2890e9(0x2b2)](_0x488423),_0x1265a3[a0_0x2890e9(0x2b2)](_0x4611d1);const _0x138a92=(Math[a0_0x2890e9(0x2c4)]()-0.5)*0x32,_0x4e749d=(Math[a0_0x2890e9(0x2c4)]()-0.5)*0x32;_0x1265a3[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](_0x138a92,-0.15,_0x4e749d),_0x18352c[a0_0x2890e9(0x2b2)](_0x1265a3);}scene[a0_0x2890e9(0x2b2)](_0x18352c);}function createClouds(){const _0x5e08d9=a0_0x2890e9,_0x10e148=new THREE[(_0x5e08d9(0x2c3))](0x1,0x8,0x8),_0x3a7ced=new THREE[(a0_0x2890e9(0x2cc))]({'color':0xffffff,'transparent':!![],'opacity':0.8});for(let _0x3a549c=0x0;_0x3a549c<0xa;_0x3a549c++){const _0x420e81=new THREE[(_0x5e08d9(0x2c2))]();for(let _0x568f3d=0x0;_0x568f3d<0x5;_0x568f3d++){const _0x3b7c23=new THREE[(_0x5e08d9(0x2bc))](_0x10e148,_0x3a7ced);_0x3b7c23[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)]((Math[a0_0x2890e9(0x2c4)]()-0.5)*0x3,(Math[a0_0x2890e9(0x2c4)]()-0.5)*0x1,(Math[a0_0x2890e9(0x2c4)]()-0.5)*0x1),_0x3b7c23[a0_0x2890e9(0x2ca)][a0_0x2890e9(0x2cb)](Math[a0_0x2890e9(0x2c4)]()*0.5+0.5),_0x420e81[a0_0x2890e9(0x2b2)](_0x3b7c23);}_0x420e81[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)]((Math[a0_0x2890e9(0x2c4)]()-0.5)*0x50,Math[a0_0x2890e9(0x2c4)]()*0x5+0xa,(Math[a0_0x2890e9(0x2c4)]()-0.5)*0x50-0x1e),scene[a0_0x2890e9(0x2b2)](_0x420e81);}}function createBirds(){const _0x2487d3=a0_0x2890e9,_0x4e131c=new THREE[(_0x2487d3(0x2c5))](0.3,0.05,0.1),_0x4e749d=new THREE[(a0_0x2890e9(0x2cc))]({'color':0x111111});for(let _0x420e81=0x0;_0x420e81<0x5;_0x420e81++){const _0x568f3d=new THREE[(_0x2487d3(0x2c2))](),_0x3b7c23=new THREE[(_0x2487d3(0x2bc))](_0x4e131c,_0x4e749d);_0x3b7c23[a0_0x2890e9(0x2a1)][x']=-0.15;const _0x3d1089=new THREE[(_0x2487d3(0x2bc))](_0x4e131c,_0x4e749d);_0x3d1089[a0_0x2890e9(0x2a1)][x']=0.15,_0x568f3d[a0_0x2890e9(0x2b2)](_0x3b7c23),_0x568f3d[a0_0x2890e9(0x2b2)](_0x3d1089),_0x568f3d[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)]((Math[a0_0x2890e9(0x2c4)]()-0.5)*0x64,Math[a0_0x2890e9(0x2c4)]()*0x5+0xc,(Math[a0_0x2890e9(0x2c4)]()-0.5)*0x28-0x28),_0x568f3d[a0_0x2890e9(0x2cd)]=new THREE[(a0_0x2890e9(0x2be))](Math[a0_0x2890e9(0x2c4)]()*0x2+0x2,0x0,0x0),scene[a0_0x2890e9(0x2b2)](_0x568f3d),birds[a0_0x2890e9(0x2c6)](_0x568f3d);}}function createTextMaterial(_0x490132,_0x5992c2=0x100,_0x4605d7=0x200,_0x59e633='front'){const _0x1a868d=a0_0x2890e9,_0x1a22f8=document[a0_0x2890e9(0x2ce)](_0x1a868d(0x2cf));_0x1a22f8[_0x1a868d(0x2b8)]=_0x5992c2,_0x1a22f8[_0x1a868d(0x2b9)]=_0x4605d7;const _0x120f23=_0x1a22f8[a0_0x2890e9(0x2d0)](_0x1a868d(0x2d1));_0x120f23[_0x1a868d(0x2d2)]='#7CB342',_0x120f23[_0x1a868d(0x2d3)](0x0,0x0,_0x5992c2,_0x4605d7),_0x120f23[_0x1a868d(0x2d4)]=`Bold ${_0x5992c2*0.8}px 'IBM Plex Sans KR'`,_0x120f23[_0x1a868d(0x2d2)]='white',_0x120f23[a0_0x2890e9(0x2d5)]='center',_0x120f23[a0_0x2890e9(0x2d6)]='middle',_0x120f23[a0_0x2890e9(0x2d7)](_0x490132,_0x5992c2/0x2,_0x4605d7/0x2);const _0x2b7f3c=new THREE[(a0_0x2890e9(0x2d8))](_0x1a22f8);return new THREE[(a0_0x2890e9(0x2bb))]({'map':_0x2b7f3c,a0_0x2890e9(0x2da):0.8,a0_0x2890e9(0x2db):0.1);}function createCharacter(){const _0x3e806c=a0_0x2890e9;character=new THREE[(_0x3e806c(0x2c2))](),scene[_0x3e806c(0x2b2)](character),character[a0_0x2890e9(0x2a1)][y']=0.5,character[a0_0x2890e9(0x2bd)][y']=0x0;const _0x18e611=new THREE[(a0_0x2890e9(0x2bb))]({a0_0x2890e9(0x2da):0.8,a0_0x2890e9(0x2db):0.1}),_0x1265a3=Math[a0_0x2890e9(0x2c4)]()>0.5,_0x488423=0xffdab9,_0x1f012a=0x464646,_0x138a92=new THREE[(a0_0x2890e9(0x2c5))](0.8,0.8,0.6),_0x4e749d=0x3b2219,_0x420e81=[new THREE[(a0_0x2890e9(0x2bb))]({'color':_0x4e749d,a0_0_2890e9(0x2da):0.8,a0_0_2890e9(0x2db):0.1}),new THREE[(a0_0x2890e9(0x2bb))]({'color':_0x4e749d,a0_0_2890e9(0x2da):0.8,a0_0_2890e9(0x2db):0.1}),new THREE[(a0_0x2890e9(0x2bb))]({'color':_0x4e749d,a0_0_2890e9(0x2da):0.8,a0_0_2890e9(0x2db):0.1}),new THREE[(a0_0x2890e9(0x2bb))]({'color':_0x488423,a0_0_2890e9(0x2da):0.8,a0_0_2890e9(0x2db):0.1}),new THREE[(a0_0x2890e9(0x2bb))]({'color':_0x488423,a0_0_2890e9(0x2da):0.8,a0_0_2890e9(0x2db):0.1}),new THREE[(a0_0x2890e9(0x2bb))]({'color':_0x4e749d,a0_0_2890e9(0x2da):0.8,a0_0_2890e9(0x2db):0.1})],_0x568f3d=new THREE[(a0_0x2890e9(0x2bc))](_0x138a92,_0x420e81);_0x568f3d[a0_0x2890e9(0x2b4)]=!![],_0x568f3d[a0_0x2890e9(0x2a1)][y']=0.6,character[a0_0x2890e9(0x2b2)](_0x568f3d),character[a0_0x2890e9(0x2dc)]=_0x568f3d;const _0x3b7c23=0.31,_0x3d1089=new THREE[(a0_0x2890e9(0x2c5))](0.8,0.3,0.01),_0x3a7ced=new THREE[(a0_0x2890e9(0x2cc))]({'color':_0x4e749d}),_0x3a549c=new THREE[(a0_0x2890e9(0x2bc))](_0x3d1089,_0x3a7ced);_0x3a549c[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](0x0,0.3,_0x3b7c23),_0x568f3d[a0_0x2890e9(0x2b2)](_0x3a549c),character[a0_0x2890e9(0x2dd)]=_0x3a549c;const _0x10e148=new THREE[(a0_0x2890e9(0x2c5))](0.1,0.2,0x0),_0x5c1bcb=new THREE[(a0_0x2890e9(0x2cc))]({'color':'#241478'}),_0x5e08d9=new THREE[(a0_0x2890e9(0x2bc))](_0x10e148,_0x5c1bcb[a0_0x2890e9(0x2de)]());_0x5e08d9[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](0.15,-0.02,_0x3b7c23),_0x568f3d[a0_0x2890e9(0x2b2)](_0x5e08d9),character[a0_0x2890e9(0x2e0)]=_0x5e08d9;const _0x2487d3=new THREE[(a0_0x2890e9(0x2bc))](_0x10e148,_0x5c1bcb[a0_0x2890e9(0x2de)]());_0x2487d3[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](-0.15,-0.02,_0x3b7c23),_0x568f3d[a0_0x2890e9(0x2b2)](_0x2487d3),character[a0_0x2890e9(0x2e1)]=_0x2487d3;const _0x4e131c=new THREE[(a0_0x2890e9(0x2c5))](0.05,0.05,0x0),_0x4e749d=new THREE[(a0_0x2890e9(0x2cc))]({'color':'#66442c'}),_0x490132=new THREE[(a0_0x2890e9(0x2bc))](_0x4e131c,_0x4e749d);_0x490132[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](0x0,-0.1,_0x3b7c23),_0x568f3d[a0_0x2890e9(0x2b2)](_0x490132),character[a0_0x2890e9(0x2e2)]=_0x490132;const _0x5992c2=new THREE[(a0_0x2890e9(0x2c5))](0.2,0.1,0x0),_0x4605d7=new THREE[(a0_0x2890e9(0x2cc))]({'color':'#66442c'}),_0x59e633=new THREE[(a0_0x2890e9(0x2bc))](_0x5992c2,_0x4605d7);_0x59e633[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](0x0,-0.25,_0x3b7c23),_0x568f3d[a0_0x2890e9(0x2b2)](_0x59e633),character[a0_0x2890e9(0x2e3)]=_0x59e633;const _0x1a868d=new THREE[(a0_0x2890e9(0x2c5))](0.8,0x0,0.4),_0x1a22f8=new THREE[(a0_0x2890e9(0x2bb))]({'color':_0x488423,a0_0_2890e9(0x2da):0.8,a0_0_2890e9(0x2db):0.1}),_0x120f23=new THREE[(a0_0x2890e9(0x2bc))](_0x1a868d,_0x1a22f8);_0x120f23[a0_0x2890e9(0x2b4)]=!![],character[a0_0x2890e9(0x2b2)](_0x120f23),character[a0_0x2890e9(0x2e4)]=_0x120f23;const _0x2b7f3c=new THREE[(a0_0x2890e9(0x2c5))](0.85,0.7,0.45),_0x3e806c=createTextMaterial('영',0x64,0x64),_0x18e611=createTextMaterial('올',0x64,0x64),_0x1265a3=new THREE[(a0_0x2890e9(0x2bb))]({'color':0x7cb342,a0_0_2890e9(0x2da):0.8,a0_0_2890e9(0x2db):0.1}),_0x488423=[_0x1265a3,_0x1265a3,_0x1265a3,_0x1265a3,_0x18e611,_0x3e806c],_0x1f012a=new THREE[(a0_0x2890e9(0x2bc))](_0x2b7f3c,_0x488423);_0x1f012a[a0_0x2890e9(0x2b4)]=!![],_0x1f012a[a0_0x2890e9(0x2a1)][y']=-0.15,character[a0_0x2890e9(0x2b2)](_0x1f012a),character[a0_0x2890e9(0x2e5)]=_0x1f012a;const _0x138a92=new THREE[(a0_0x2890e9(0x2c5))](0.3,0.5,0.3),_0x4e749d=new THREE[(a0_0x2890e9(0x2bb))]({'color':_0x488423,a0_0_2890e9(0x2da):0.8,a0_0_2890e9(0x2db):0.1}),_0x420e81=new THREE[(a0_0x2890e9(0x2bc))](_0x138a92,_0x4e749d);_0x420e81[a0_0x2890e9(0x2b4)]=!![],_0x420e81[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](0.55,-0.1,0x0),character[a0_0x2890e9(0x2b2)](_0x420e81),character[a0_0x2890e9(0x2e6)]=_0x420e81;const _0x568f3d=new THREE[(a0_0x2890e9(0x2bc))](_0x138a92,_0x4e749d);_0x568f3d[a0_0x2890e9(0x2b4)]=!![],_0x568f3d[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](-0.55,-0.1,0x0),character[a0_0x2890e9(0x2b2)](_0x568f3d),character[a0_0x2890e9(0x2e7)]=_0x568f3d;const _0x3b7c23=new THREE[(a0_0x2890e9(0x2c5))](0.35,0.8,0.35),_0x3d1089=new THREE[(a0_0x2890e9(0x2bb))]({'color':_0x1f012a,a0_0_2890e9(0x2da):0.8,a0_0_2890e9(0x2db):0.1}),_0x3a7ced=new THREE[(a0_0x2890e9(0x2bc))](_0x3b7c23,_0x3d1089);_0x3a7ced[a0_0x2890e9(0x2b4)]=!![],_0x3a7ced[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](0.2,-0.9,0x0),character[a0_0x2890e9(0x2b2)](_0x3a7ced),character[a0_0x2890e9(0x2e8)]=_0x3a7ced;const _0x3a549c=new THREE[(a0_0x2890e9(0x2bc))](_0x3b7c23,_0x3d1089);_0x3a549c[a0_0x2890e9(0x2b4)]=!![],_0x3a549c[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](-0.2,-0.9,0x0),character[a0_0x2890e9(0x2b2)](_0x3a549c),character[a0_0x2890e9(0x2e9)]=_0x3a549c;}function playSound(_0x10e148){const _0x5c1bcb=a0_0x2890e9;if(!audioCtx){try{audioCtx=new (window[a0_0x2890e9(0x2ea)]||window[a0_0x2890e9(0x2eb)])();}catch(_0x5e08d9){console[a0_0x2890e9(0x2ed)](a0_0x2890e9(0x2ef));return;}}let _0x3a7ced=audioCtx[a0_0x2890e9(0x2f0)](),_0x3a549c=audioCtx[a0_0x2890e9(0x2f1)]();_0x3a7ced[a0_0x2890e9(0x2f2)](_0x3a549c),_0x3a549c[a0_0x2890e9(0x2f2)](audioCtx[a0_0x2890e9(0x2f3)]),_0x3a549c[a0_0x2890e9(0x2f4)][a0_0x2890e9(0x2f5)](0.2*sfxVolume,audioCtx[a0_0x2890e9(0x2f6)]);switch(_0x10e148){case'ArrowUp':case'ArrowDown':case'ArrowLeft':case'ArrowRight':_0x3a7ced[a0_0x2890e9(0x2f7)]='sine',_0x3a7ced[a0_0x2890e9(0x2f8)][a0_0x2890e9(0x2f5)](0x1b8,audioCtx[a0_0x2890e9(0x2f6)]),_0x3a7ced[a0_0x2890e9(0x2f8)][a0_0x2890e9(0x2f9)](0x294,audioCtx[a0_0x2890e9(0x2f6)]+0.1),_0x3a549c[a0_0x2890e9(0x2f4)][a0_0x2890e9(0x2fa)](1e-5,audioCtx[a0_0x2890e9(0x2f6)]+0.15);break;case'beep':_0x3a7ced[a0_0x2890e9(0x2f7)]='square',_0x3a7ced[a0_0x2890e9(0x2f8)][a0_0x2890e9(0x2f5)](0x320,audioCtx[a0_0x2890e9(0x2f6)]),_0x3a7ced[a0_0x2890e9(0x2f8)][a0_0x2890e9(0x2f5)](0x258,audioCtx[a0_0x2890e9(0x2f6)]+0.05),_0x3a549c[a0_0x2890e9(0x2f4)][a0_0x2890e9(0x2fa)](1e-5,audioCtx[a0_0x2890e9(0x2f6)]+0.1);break;case a0_0x2890e9(0x2fb):_0x3a7ced[a0_0x2890e9(0x2f7)]='sine';const _0x2487d3=[0x20b,0x293,0x310,0x417];_0x2487d3[a0_0x2890e9(0x2fc)]((_0x4e131c,_0x4e749d)=>{const _0x490132=a0_0x2890e9,_0x5992c2=audioCtx[_0x490132(0x2f0)](),_0x4605d7=audioCtx[_0x490132(0x2f1)]();_0x5992c2[_0x490132(0x2f2)](_0x4605d7),_0x4605d7[_0x490132(0x2f2)](audioCtx[_0x490132(0x2f3)]),_0x5992c2[_0x490132(0x2f7)]='sine',_0x5992c2[_0x490132(0x2f8)][_0x490132(0x2f5)](_0x4e131c,audioCtx[_0x490132(0x2f6)]+_0x4e749d*0.1),_0x4605d7[_0x490132(0x2f4)][_0x490132(0x2f5)](0.15*sfxVolume,audioCtx[_0x490132(0x2f6)]+_0x4e749d*0.1),_0x4605d7[_0x490132(0x2f4)][_0x490132(0x2fa)](1e-5,audioCtx[_0x490132(0x2f6)]+_0x4e749d*0.1+0.3),_0x5992c2[_0x490132(0x2fd)](audioCtx[a0_0x2890e9(0x2f6)]+_0x4e749d*0.1),_0x5992c2[_0x490132(0x2fe)](audioCtx[a0_0x2890e9(0x2f6)]+_0x4e749d*0.1+0.3);});return;case a0_0x2890e9(0x2ff):_0x3a7ced[a0_0x2890e9(0x2f7)]='sawtooth',_0x3a7ced[a0_0x2890e9(0x2f8)][a0_0x2890e9(0x2f5)](0xa4,audioCtx[a0_0x2890e9(0x2f6)]),_0x3a7ced[a0_0x2890e9(0x2f8)][a0_0x2890e9(0x2fa)](0x64,audioCtx[a0_0x2890e9(0x2f6)]+0.2),_0x3a549c[a0_0x2890e9(0x2f4)][a0_0x2890e9(0x2fa)](1e-5,audioCtx[a0_0x2890e9(0x2f6)]+0.3);break;case a0_0x2890e9(0x300):_0x3a7ced[a0_0x2890e9(0x2f7)]='sawtooth',_0x3a549c[a0_0x2890e9(0x2f4)][a0_0x2890e9(0x2f5)](0.3*sfxVolume,audioCtx[a0_0x2890e9(0x2f6)]);let _0x59e633=[0x1b8,0x19f,0x188,0x15d,0x14a,0x126,0x115,0x105];_0x59e633[a0_0x2890e9(0x2fc)]((_0x1a868d,_0x1a22f8)=>{_0x3a7ced[a0_0x2890e9(0x2f8)][a0_0x2890e9(0x2f5)](_0x1a868d,audioCtx[a0_0x2890e9(0x2f6)]+_0x1a22f8*0.07);}),_0x3a7ced[a0_0x2890e9(0x2f8)][a0_0x2890e9(0x2f5)](0x82,audioCtx[a0_0x2890e9(0x2f6)]+_0x59e633[a0_0x2890e9(0x2c9)]*0.07),_0x3a549c[a0_0x2890e9(0x2f4)][a0_0x2890e9(0x2fa)](1e-5,audioCtx[a0_0x2890e9(0x2f6)]+1.2);break;}_0x3a7ced[a0_0x2890e9(0x2fd)](audioCtx[a0_0x2890e9(0x2f6)]),_0x3a7ced[a0_0x2890e9(0x2fe)](audioCtx[a0_0x2890e9(0x2f6)]+1.2);}function playAnimation(_0x120f23){const _0x2b7f3c=a0_0x2890e9;playSound(_0x120f23);const _0x3e806c=()=>{const _0x18e611=a0_0x2890e9;character[a0_0x2890e9(0x2dc)][_0x18e611(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2e7)][_0x18e611(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2e8)][_0x18e611(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2e9)][_0x18e611(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2dc)][_0x18e611(0x2bd)][y']=0x0,character[a0_0x2890e9(0x2a1)][y']=0.5;};_0x3e806c();const _0x1265a3=0x190;switch(_0x120f23){case'ArrowUp':character[a0_0x2890e9(0x2dc)][_0x18e611(0x2bd)][x']=-Math[a0_0x2890e9(0x2bf)]/0x10,character[a0_0x2890e9(0x2e7)][_0x18e611(0x2bd)][x']=-Math[a0_0x2890e9(0x2bf)]/2.5,character[a0_0x2890e9(0x2e7)][a0_0x2890e9(0x2a1)][y']=-0.1,setTimeout(_0x3e806c,_0x1265a3);break;case'ArrowDown':character[a0_0x2890e9(0x2a1)][y']=0.3,character[a0_0x2890e9(0x2e8)][_0x18e611(0x2bd)][x']=-Math[a0_0x2890e9(0x2bf)]/0x4,character[a0_0x2890e9(0x2e9)][_0x18e611(0x2bd)][x']=Math[a0_0x2890e9(0x2bf)]/0x4,setTimeout(()=>{const _0x488423=a0_0x2890e9;character[_0x488423(0x2a1)][y']=0.7;},0x64),setTimeout(()=>{const _0x1f012a=a0_0x2890e9;character[_0x1f012a(0x2a1)][y']=0.5,character[_0x1f012a(0x2e8)][_0x1f012a(0x2bd)][x']=0x0,character[_0x1f012a(0x2e9)][_0x1f012a(0x2bd)][x']=0x0;},0xfa),setTimeout(_0x3e806c,_0x1265a3);break;case'ArrowLeft':character[a0_0x2890e9(0x2bd)][y']=Math[a0_0x2890e9(0x2bf)]/0x8,character[a0_0x2890e9(0x2e6)][_0x18e611(0x2bd)][y']=Math[a0_0x2890e9(0x2bf)]/0x4,character[a0_0x2890e9(0x2e7)][_0x18e611(0x2bd)][y']=-Math[a0_0x2890e9(0x2bf)]/0x4,setTimeout(()=>{const _0x1f012a=a0_0x2890e9;if(character)character[_0x1f012a(0x2bd)][y']=Math[_0x1f012a(0x2bf)]/0x8,character[_0x1f012a(0x2e6)][_0x1f012a(0x2bd)][y']=-Math[_0x1f012a(0x2bf)]/0x4,character[_0x1f012a(0x2e7)][_0x1f012a(0x2bd)][y']=Math[_0x1f012a(0x2bf)]/0x4;},_0x1265a3/0x2),setTimeout(_0x3e806c,_0x1265a3);break;case'ArrowRight':character[a0_0x2890e9(0x2e6)][_0x18e611(0x2bd)][x']=-Math[a0_0x2890e9(0x2bf)]*0.9,character[a0_0x2890e9(0x2e7)][_0x18e611(0x2bd)][x']=-Math[a0_0x2890e9(0x2bf)]*0.9,character[a0_0x2890e9(0x2e9)][_0x18e611(0x2bd)][x']=-Math[a0_0x2890e9(0x2bf)]/0x4,setTimeout(_0x3e806c,_0x1265a3);break;}}function createWaterSplash(){const _0x488423=a0_0x2890e9,_0x1f012a=0x64,_0x138a92=new THREE[(_0x488423(0x2c3))](0.05,0x8,0x8),_0x4e749d=new THREE[(a0_0x2890e9(0x2cc))]({'color':0xbfff});for(let _0x420e81=0x0;_0x420e81<_0x1f012a;_0x420e81++){const _0x568f3d=new THREE[(_0x488423(0x2bc))](_0x138a92,_0x4e749d);_0x568f3d[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x301)](character[a0_0x2890e9(0x2a1)]),_0x568f3d[a0_0x2890e9(0x2a1)][y']+=0.8,_0x568f3d[a0_0x2890e9(0x2cd)]=new THREE[(a0_0x2890e9(0x2be))]((Math[a0_0x2890e9(0x2c4)]()-0.5)*0x3,Math[a0_0x2890e9(0x2c4)]()*0x2+0x2,(Math[a0_0x2890e9(0x2c4)]()-0.5)*0x3),scene[a0_0x2890e9(0x2b2)](_0x568f3d),waterParticles[a0_0x2890e9(0x2c6)](_0x568f3d);}}let idleAnimationTimer=0x0,lastIdleAction=0x0;const idleActions=[a0_0x2890e9(0x302),a0_0x2890e9(0x303),a0_0x2890e9(0x304),a0_0x2890e9(0x305),a0_0x2890e9(0x306)];let walkAnimationTimer=0x0,walkTargetPosition={'x':0x0,'z':0x0},walkStartPosition={'x':0x0,'z':0x0},walkProgress=0x0,isWalking=![],walkDuration=0x0;function startWalking(){const _0x3b7c23=a0_0x2890e9;if(!character||isWalking)return;const _0x3d1089=Math[a0_0x2890e9(0x2c4)]()*Math[a0_0x2890e9(0x2bf)]*0x2,_0x3a7ced=0x1+Math[a0_0x2890e9(0x2c4)]()*1.5;walkTargetPosition['x']=Math[a0_0x2890e9(0x307)](_0x3d1089)*_0x3a7ced,walkTargetPosition['z']=Math[a0_0x2890e9(0x308)](_0x3d1089)*_0x3a7ced;const _0x3a549c=2.5,_0x10e148=Math[a0_0x2890e9(0x309)](walkTargetPosition['x']*walkTargetPosition['x']+walkTargetPosition['z']*walkTargetPosition['z']);if(_0x10e148>_0x3a549c){const _0x5c1bcb=_0x3a549c/_0x10e148;walkTargetPosition['x']*=_0x5c1bcb,walkTargetPosition['z']*=_0x5c1bcb;}walkStartPosition['x']=character[a0_0x2890e9(0x2a1)][x'],walkStartPosition['z']=character[a0_0x2890e9(0x2a1)][y'],isWalking=!![],walkProgress=0x0,walkDuration=0xbb8+Math[a0_0x2890e9(0x2c4)]()*0x7d0;const _0x5e08d9=walkTargetPosition['x']-walkStartPosition['x'],_0x2487d3=walkTargetPosition['z']-walkStartPosition['z'],_0x4e131c=Math[a0_0x2890e9(0x30a)](_0x5e08d9,_0x2487d3);character[a0_0x2890e9(0x2bd)][y']=_0x4e131c;}function updateWalking(_0x4e749d){const _0x490132=a0_0x2890e9;if(!isWalking||!character)return;walkProgress+=_0x490132(0x490132)*0x3e8;const _0x5992c2=Math[a0_0x2890e9(0x30b)](walkProgress/walkDuration,0x1),_0x4605d7=_0x5992c2*_0x5992c2*(0x3-0x2*_0x5992c2);let _0x59e633=walkStartPosition['x']+(walkTargetPosition['x']-walkStartPosition['x'])*_0x4605d7,_0x1a868d=walkStartPosition['z']+(walkTargetPosition['z']-walkStartPosition['z'])*_0x4605d7;const _0x1a22f8=Math[a0_0x2890e9(0x309)](_0x59e633*_0x59e633+_0x1a868d*_0x1a868d),_0x120f23=2.5;if(_0x1a22f8>_0x120f23){const _0x2b7f3c=_0x120f23/_0x1a22f8;_0x59e633*=_0x2b7f3c,_0x1a868d*=_0x2b7f3c;}character[a0_0x2890e9(0x2a1)][x']=_0x59e633,character[a0_0x2890e9(0x2a1)][y']=_0x1a868d;const _0x3e806c=Math[a0_0x2890e9(0x308)](walkProgress*0.01)*0.3;character[a0_0x2890e9(0x2e8)][_0x18e611(0x2bd)][x']=_0x3e806c,character[a0_0x2890e9(0x2e9)][_0x18e611(0x2bd)][x']=-_0x3e806c,character[a0_0x2890e9(0x2e6)][_0x18e611(0x2bd)][x']=-_0x3e806c*0.5,character[a0_0x2890e9(0x2e7)][_0x18e611(0x2bd)][x']=_0x3e806c*0.5,t>=0x1&&(isWalking=![],character[a0_0x2890e9(0x2e8)][_0x18e611(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2e9)][_0x18e611(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2e6)][_0x18e611(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2e7)][_0x18e611(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2bd)][y']=0x0,character[a0_0x2890e9(0x2dc)][_0x18e611(0x2bd)][y']=0x0),setTimeout(()=>{const _0x18e611=a0_0x2890e9;gameState===_0x18e611(0x2ab)&&startWalking();},0x7d0+Math[a0_0x2890e9(0x2c4)]()*0xbb8);}function teleportToCenter(){const _0x1265a3=a0_0x2890e9;if(!character)return;const _0x488423=character[_0x1265a3(0x2ca)][_0x1265a3(0x2de)]();character[_0x1265a3(0x2ca)][_0x1265a3(0x2a2)](0.1,0.1,0.1),character[_0x1265a3(0x2a1)][_0x1265a3(0x2a2)](0x0,0.5,0x0),character[a0_0x2890e9(0x2bd)][y']=Math[_0x1265a3(0x2bf)];const _0x1f012a=()=>{const _0x138a92=a0_0x2890e9;if(character){character[_0x138a92(0x2ca)][_0x138a92(0x30c)](_0x488423,0.1);if(character[_0x138a92(0x2ca)][_0x138a92(0x30d)](_0x488423)>0.01)requestAnimationFrame(_0x1f012a);else character[_0x138a92(0x2ca)][_0x138a92(0x301)](_0x488423);}};_0x1f012a();}function playIdleAnimation(){const _0x4e749d=a0_0x2890e9;if(!character)return;const _0x490132=idleActions[Math[_0x4e749d(0x2c8)](Math[_0x4e749d(0x2c4)]()*idleActions[_0x4e749d(0x2c9)])],_0x5992c2=0x7d0;switch(_0x490132){case'dance':character[a0_0x2890e9(0x2bd)][y']=Math[a0_0x2890e9(0x2bf)]/0x8,character[a0_0x2890e9(0x2e6)][_0x18e611(0x2bd)][y']=Math[a0_0x2890e9(0x2bf)]/0x4,character[a0_0x2890e9(0x2e7)][_0x18e611(0x2bd)][y']=-Math[a0_0x2890e9(0x2bf)]/0x4,setTimeout(()=>{const _0x4605d7=a0_0x2890e9;if(character)character[_0x4605d7(0x2bd)][y']=0x0,character[_0x4605d7(0x2e6)][_0x4605d7(0x2bd)][y']=0x0,character[_0x4605d7(0x2e7)][_0x4605d7(0x2bd)][y']=0x0;},_0x5992c2);break;case a0_0x2890e9(0x306):const _0x59e633=0xfa0,_0x1a868d=0x8;let _0x1a22f8=0x0;const _0x120f23=setInterval(()=>{const _0x2b7f3c=a0_0x2890e9;if(character&&_0x1a22f8<_0x1a868d){const _0x3e806c=Math[_0x2b7f3c(0x308)](_0x1a22f8*0.5)*0.2;character[_0x2b7f3c(0x2e8)][_0x2b7f3c(0x2bd)][x']=_0x3e806c,character[_0x2b7f3c(0x2e9)][_0x2b7f3c(0x2bd)][x']=-_0x3e806c,character[_0x2b7f3c(0x2e6)][_0x2b7f3c(0x2bd)][x']=-_0x3e806c*0.3,character[_0x2b7f3c(0x2e7)][_0x2b7f3c(0x2bd)][x']=_0x3e806c*0.3,character[_0x2b7f3c(0x2bd)][y']=Math[_0x2b7f3c(0x308)](_0x1a22f8*0.3)*0.1,character[_0x2b7f3c(0x2dc)][_0x2b7f3c(0x2bd)][y']=Math[_0x2b7f3c(0x308)](_0x1a22f8*0.4)*0.2,_0x1a22f8++;}else clearInterval(_0x120f23),character&&(character[_0x2b7f3c(0x2e8)][_0x2b7f3c(0x2bd)][x']=0x0,character[_0x2b7f3c(0x2e9)][_0x2b7f3c(0x2bd)][x']=0x0,character[_0x2b7f3c(0x2e6)][_0x2b7f3c(0x2bd)][x']=0x0,character[_0x2b7f3c(0x2e7)][_0x2b7f3c(0x2bd)][x']=0x0,character[_0x2b7f3c(0x2bd)][y']=0x0,character[_0x2b7f3c(0x2dc)][_0x2b7f3c(0x2bd)][y']=0x0);},0x1f4);break;case'stretch':character[a0_0x2890e9(0x2e6)][_0x18e611(0x2bd)][x']=-Math[a0_0x2890e9(0x2bf)]/0x2,character[a0_0x2890e9(0x2e7)][_0x18e611(0x2bd)][x']=-Math[a0_0x2890e9(0x2bf)]/0x2,character[a0_0x2890e9(0x2dc)][_0x18e611(0x2bd)][x']=-Math[a0_0x2890e9(0x2bf)]/0xc,setTimeout(()=>{const _0x18e611=a0_0x2890e9;if(character)character[_0x18e611(0x2e6)][_0x18e611(0x2bd)][x']=0x0,character[_0x18e611(0x2e7)][_0x18e611(0x2bd)][x']=0x0,character[_0x18e611(0x2dc)][_0x18e611(0x2bd)][x']=0x0;},_0x5992c2);break;case'wave':character[a0_0x2890e9(0x2e7)][_0x18e611(0x2bd)][x']=-Math[a0_0x2890e9(0x2bf)]/0x4,character[a0_0x2890e9(0x2e7)][_0x18e611(0x2bd)][y']=Math[a0_0x2890e9(0x2bf)]/0x6,setTimeout(()=>{const _0x1265a3=a0_0x2890e9;if(character)character[_0x1265a3(0x2e7)][_0x1265a3(0x2bd)][x']=0x0,character[_0x1265a3(0x2e7)][_0x1265a3(0x2bd)][y']=0x0;},_0x5992c2);break;case'nod':const _0x488423=0x3;let _0x1f012a=0x0;const _0x138a92=setInterval(()=>{const _0x4e749d=a0_0x2890e9;if(character&&_0x1f012a<_0x488423)character[_0x4e749d(0x2dc)][_0x4e749d(0x2bd)][x']=_0x1f012a%0x2===0x0?-Math[_0x4e749d(0x2bf)]/0x10:Math[_0x4e749d(0x2bf)]/0x10,_0x1f012a++;else clearInterval(_0x138a92),character&&(character[_0x4e749d(0x2dc)][_0x4e749d(0x2bd)][x']=0x0);},0x12c);break;}}function animate(){const _0x4e749d=a0_0x2890e9;requestAnimationFrame(animate);const _0x490132=clock[a0_0x2890e9(0x30e)](),_0x5992c2=clock[a0_0x2890e9(0x30f)]();if(waterParticles[a0_0x2890e9(0x2c9)]>0x0)waterParticles[a0_0x2890e9(0x2fc)]((_0x4605d7,_0x59e633)=>{const _0x1a868d=a0_0x2890e9;_0x4605d7[_0x1a868d(0x2cd)][y']-=9.8*_0x490132,_0x4605d7[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x310)](_0x4605d7[a0_0x2890e9(0x2cd)],_0x490132),_0x4605d7[a0_0x2890e9(0x2a1)][y']<0x0&&(scene[a0_0x2890e9(0x311)](_0x4605d7),waterParticles[a0_0x2890e9(0x312)](_0x59e633,0x1));});birds[a0_0x2890e9(0x2fc)](_0x1a22f8=>{const _0x120f23=a0_0x2890e9;_0x1a22f8[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x310)](_0x1a22f8[a0_0x2890e9(0x2cd)],_0x490132),_0x1a22f8[a0_0x2890e9(0x313)][0x0][a0_0x2890e9(0x2bd)][y']=Math[a0_0x2890e9(0x308)](_0x5992c2*0x14)*0.5,_0x1a22f8[a0_0x2890e9(0x313)][0x1][a0_0x2890e9(0x2bd)][y']=-Math[a0_0x2890e9(0x308)](_0x5992c2*0x14)*0.5,_0x1a22f8[a0_0x2890e9(0x2a1)][x']>0x3c&&(_0x1a22f8[a0_0x2890e9(0x2a1)][x']=-0x3c,_0x1a22f8[a0_0x2890e9(0x2a1)][y']=Math[a0_0x2890e9(0x2c4)]()*0x5+0xc);}),hotAirBalloons[a0_0x2890e9(0x2fc)](_0x2b7f3c=>{_0x2b7f3c[a0_0x2890e9(0x2a1)][y']+=Math[a0_0x2890e9(0x308)](_0x5992c2*0.5+_0x2b7f3c[a0_0x2890e9(0x2a1)][x'])*0.005;});const _0x3e806c=document[a0_0x2890e9(0x24e)](a0_0x2890e9(0x314)),_0x18e611=document[a0_0x2890e9(0x24e)](a0_0x2890e9(0x314)),_0x1265a3=_0x3e806c&&!_0x3e806c[a0_0x2890e9(0x315)][a0_0x2890e9(0x316)](a0_0x2890e9(0x317)),_0x488423=_0x18e611&&_0x18e611[a0_0x2890e9(0x318)][a0_0x2890e9(0x319)]!==a0_0x2890e9(0x317);if(_0x1265a3&&!_0x488423&&character){idleAnimationTimer+=_0x490132*0x3e8,updateWalking(_0x490132);if(!isWalking&&idleAnimationTimer-lastIdleAction>0xbb8+Math[a0_0x2890e9(0x2c4)]()*0x1388)playIdleAnimation(),lastIdleAction=idleAnimationTimer;}else isWalking&&(isWalking=![],character&&(character[a0_0x2890e9(0x2e8)][_0x18e611(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2e9)][_0x18e611(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2e6)][_0x18e611(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2e7)][_0x18e611(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2bd)][y']=0x0,character[a0_0x2890e9(0x2dc)][_0x18e611(0x2bd)][y']=0x0));const _0x1f012a=mouse[x']*0.8,_0x138a92=1.5+mouse[y']*0.4;camera[a0_0x2890e9(0x2a1)][x']+=( _0x1f012a-camera[a0_0x2890e9(0x2a1)][x'])*0.05,camera[a0_0x2890e9(0x2a1)][y']+=( _0x138a92-camera[a0_0x2890e9(0x2a1)][y'])*0.05,shakeDuration>0x0&&(camera[a0_0x2890e9(0x2a1)][x']+=(Math[a0_0x2890e9(0x2c4)]()-0.5)*SHAKE_INTENSITY,camera[a0_0x2890e9(0x2a1)][y']+=(Math[a0_0x2890e9(0x2c4)]()-0.5)*SHAKE_INTENSITY,shakeDuration-=_0x490132),camera[a0_0x2890e9(0x2a4)](0x0,0x1,0x0),renderer[a0_0x2890e9(0x31a)](scene,camera);}function startGame(){const _0x4e749d=a0_0x2890e9;startScreen[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x317)),gameOverScreen[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x317)),startCountdown();}function startCountdown(){const _0x490132=a0_0x2890e9;character&&(isWalking=![],character[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](0x0,0.5,0x0),character[a0_0x2890e9(0x2bd)][y']=0x0,character[a0_0x2890e9(0x2e8)][a0_0x2890e9(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2e9)][a0_0x2890e9(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2e6)][a0_0x2890e9(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2e7)][a0_0x2890e9(0x2bd)][x']=0x0,character[a0_0x2890e9(0x2bd)][y']=0x0,character[a0_0x2890e9(0x2dc)][a0_0x2890e9(0x2bd)][y']=0x0),showVolumeControls();let _0x5992c2=0x3;const _0x4605d7=document[a0_0x2890e9(0x2ce)](a0_0x2890e9(0x31b));_0x4605d7[a0_0x2890e9(0x32f)]=a0_0x2890e9(0x314),_0x4605d7[a0_0x2890e9(0x318)][a0_0x2890e9(0x31c)]=`
           position: fixed;
           top: 200px;
           left: 50%;
           transform: translateX(-50%);
           font-size: 120px;
           font-weight: bold;
           color: #FFD700;
           text-shadow: 3px 3px 6px rgba(0,0,0,0.8);
           z-index: 1000;
           pointer-events: none;
           width: 300px;
           height: 120px;
           display: flex;
           align-items: center;
           justify-content: center;
           text-align: center;
           line-height: 1;
           white-space: nowrap;
           `,_0x4605d7[a0_0x2890e9(0x31d)]=_0x5992c2,document[a0_0x2890e9(0x2e4)][a0_0x2890e9(0x2ae)](_0x4605d7);const _0x59e633=setInterval(()=>{const _0x1a868d=a0_0x2890e9;_0x5992c2--;if(_0x5992c2>0x0)_0x4605d7[_0x1a868d(0x31d)]=_0x5992c2,playSound('beep');else{_0x4605d7[_0x1a868d(0x31d)]='시작!',playSound(a0_0x2890e9(0x2fb)),setTimeout(()=>{document[_0x1a868d(0x2e4)][_0x1a868d(0x31e)](_0x4605d7),startGameAfterCountdown();},0x1f4),clearInterval(_0x59e633);}},0x3e8);}function startGameAfterCountdown(){const _0x1a22f8=a0_0x2890e9;gameState='SHOWING',playerInput=[],stage=INITIAL_STAGE,lives=INITIAL_LIVES,sequenceSpeed=INITIAL_SEQUENCE_SPEED,timeLimit=INITIAL_TIME_LIMIT,timerContainer[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x320)),progressContainer[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x320)),messageBox[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='1',stageDisplay[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='1',livesContainer[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='1',showVolumeControls(),character&&scene[a0_0x2890e9(0x311)](character),createCharacter(),updateUI(),bgm[a0_0x2890e9(0x322)]=bgmVolumeSlider[a0_0x2890e9(0x323)]/0x64,bgm[a0_0x2890e9(0x324)]=0x0;const _0x120f23=bgm[a0_0x2890e9(0x325)]();_0x120f23!==undefined&&_0x120f23[a0_0x2890e9(0x326)](_0x2b7f3c=>{console[_0x1a22f8(0x327)](_0x1a22f8(0x328));}),nextStage();}function calculateMemoryIndex(_0x3e806c){const _0x18e611=a0_0x2890e9;if(_0x3e806c<=0x0)return 0x32;const _0x1265a3=0x32,_0x488423=0x1e,_0x1f012a=1.25,_0x138a92=_0x1265a3+_0x488423*(Math[a0_0x2890e9(0x329)](_0x1f012a,_0x3e806c)-0x1);return Math[a0_0x2890e9(0x32a)](_0x138a92);}function nextStage(){const _0x4e749d=a0_0x2890e9;gameState='SHOWING',playerInput=[];const _0x490132=calculateMemoryIndex(stage);stageDisplay[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x32b)),void stageDisplay[a0_0x2890e9(0x32c)],stageDisplay[a0_0x2890e9(0x31d)]=a0_0x2890e9(0x32d),stageDisplay[a0_0x2890e9(0x315)][a0_0x2890e9(0x32b)];const _0x5992c2=Object[a0_0x2890e9(0x32d)](keywords);sequence=[];for(let _0x4605d7=0x0;_0x4605d7<stage+0x3;_0x4605d7++)sequence[a0_0x2890e9(0x2c6)](_0x5992c2[Math[a0_0x2890e9(0x2c8)](Math[a0_0x2890e9(0x2c4)]()*_0x5992c2[a0_0x2890e9(0x2c9)])]);showSequence();}function setupProgressIndicator(){const _0x59e633=a0_0x2890e9;progressContainer[a0_0x2890e9(0x32e)]='';for(let _0x1a868d=0x0;_0x1a868d<sequence[a0_0x2890e9(0x2c9)];_0x1a868d++){const _0x1a22f8=document[a0_0x2890e9(0x2ce)](a0_0x2890e9(0x31b));_0x1a22f8[a0_0x2890e9(0x32f)]='progress-dot',progressContainer[a0_0x2890e9(0x2ae)](_0x1a22f8);}}async function showSequence(){const _0x120f23=a0_0x2890e9;if(gameState!==_0x120f23(0x330)){console[_0x120f23(0x327)](_0x120f23(0x331),gameState);return;}setupProgressIndicator();const _0x2b7f3c=progressContainer[a0_0x2890e9(0x313)];for(let _0x3e806c=0x0;_0x3e806c<sequence[a0_0x2890e9(0x2c9)];_0x3e806c++){if(gameState!==a0_0x2890e9(0x330)){console[a0_0x2890e9(0x327)](a0_0x2890e9(0x332),gameState);return;}const _0x18e611=sequence[_0x3e806c];await new Promise(_0x1265a3=>setTimeout(_0x1265a3,sequenceSpeed)),showMessage(keywords[_0x18e611],_0x18e611),playAnimation(_0x18e611),_0x2b7f3c[_0x3e806c]&&(_0x2b7f3c[_0x3e806c][a0_0x2890e9(0x32e)]=arrowIcons[_0x18e611],_0x2b7f3c[_0x3e806c][a0_0x2890e9(0x318)][a0_0x2890e9(0x333)]='rgba(34, 197, 94, 0.9)',_0x2b7f3c[_0x3e806c][a0_0x2890e9(0x318)][a0_0x2890e9(0x334)]='white',_0x2b7f3c[_0x3e806c][a0_0x2890e9(0x318)][a0_0x2890e9(0x335)]='bold',_0x2b7f3c[_0x3e806c][a0_0x2890e9(0x318)][a0_0x2890e9(0x336)]='24px');}await new Promise(_0x488423=>setTimeout(_0x488423,sequenceSpeed)),messageBox[a0_0x2890e9(0x32f)]=messageBox[a0_0x2890e9(0x32f)][a0_0x2890e9(0x337)](/animate-\w+/g,''),messageBox[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]=0x0,gameState===a0_0x2890e9(0x330)&&startPlayerTurn();}function startPlayerTurn(){const _0x1f012a=a0_0x2890e9;if(gameState!==_0x1f012a(0x330)){console[_0x1f012a(0x327)](_0x1f012a(0x338),gameState);return;}gameState='WAITING',playerInput=[],setupProgressIndicator(),startTimer();}function startTimer(){const _0x138a92=a0_0x2890e9;timerContainer[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x320));let _0x4e749d=timeLimit;timerBar[a0_0x2890e9(0x318)][a0_0x2890e9(0x2b8)]='100%',clearInterval(timerInterval),timerInterval=setInterval(()=>{const _0x420e81=a0_0x2890e9;if(gameState!==_0x420e81(0x339)){clearInterval(timerInterval);return;}_0x4e749d-=0x64;const _0x568f3d=_0x4e749d/timeLimit*0x64;timerBar[_0x420e81(0x318)][_0x420e81(0x2b8)]=`${_0x568f3d}%`,_0x4e749d<=0x0&&(clearInterval(timerInterval),handleIncorrectInput());},0x64);}function handlePlayerInput(_0x3b7c23){const _0x3d1089=a0_0x2890e9;if(gameState!==_0x3d1089(0x339)||!keywords[_0x3b7c23['key']])return;if(playerInput[a0_0x2890e9(0x2c9)]>=sequence[a0_0x2890e9(0x2c9)])return;playerInput[a0_0x2890e9(0x2c6)](_0x3b7c23['key']);const _0x3a7ced=playerInput[playerInput[a0_0x2890e9(0x2c9)]-0x1],_0x3a549c=sequence[playerInput[a0_0x2890e9(0x2c9)]-0x1],_0x10e148=progressContainer[a0_0x2890e9(0x313)];if(_0x3a7ced!==_0x3a549c)_0x10e148[playerInput[a0_0x2890e9(0x2c9)]-0x]&&(_0x10e148[playerInput[a0_0x2890e9(0x2c9)]-0x1][a0_0x2890e9(0x318)][a0_0x2890e9(0x333)]='rgba(239, 68, 68, 0.9)',_0x10e148[playerInput[a0_0x2890e9(0x2c9)]-0x1][a0_0x2890e9(0x318)][a0_0x2890e9(0x334)]='white',_0x10e148[playerInput[a0_0x2890e9(0x2c9)]-0x1][a0_0x2890e9(0x318)][a0_0x2890e9(0x335)]='bold',_0x10e148[playerInput[a0_0x2890e9(0x2c9)]-0x1][a0_0x2890e9(0x318)][a0_0x2890e9(0x336)]='24px'),handleIncorrectInput();else{playAnimation(_0x3a7ced),_0x10e148[playerInput[a0_0x2890e9(0x2c9)]-0x1]&&(_0x10e148[playerInput[a0_0x2890e9(0x2c9)]-0x1][a0_0x2890e9(0x32e)]=arrowIcons[_0x3a7ced],_0x10e148[playerInput[a0_0x2890e9(0x2c9)]-0x1][a0_0x2890e9(0x318)][a0_0x2890e9(0x333)]='rgba(34, 197, 94, 0.9)',_0x10e148[playerInput[a0_0x2890e9(0x2c9)]-0x1][a0_0x2890e9(0x318)][a0_0x2890e9(0x334)]='white',_0x10e148[playerInput[a0_0x2890e9(0x2c9)]-0x1][a0_0x2890e9(0x318)][a0_0x2890e9(0x335)]='bold',_0x10e148[playerInput[a0_0x2890e9(0x2c9)]-0x1][a0_0x2890e9(0x318)][a0_0x2890e9(0x336)]='24px');if(playerInput[a0_0x2890e9(0x2c9)]===sequence[a0_0x2890e9(0x2c9)])handleCorrectSequence();}}function handleIncorrectInput(){const _0x5c1bcb=a0_0x2890e9;playSound(_0x5c1bcb(0x2ff)),clearInterval(timerInterval),timerContainer[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x320)),createWaterSplash(),lives--,updateUI();if(lives<=0x0)gameOver();else gameState=a0_0x2890e9(0x330),playerInput=[],setTimeout(()=>{const _0x5e08d9=a0_0x2890e9;messageBox[_0x5e08d9(0x32f)]=messageBox[_0x5e08d9(0x32f)][_0x5e08d9(0x337)](/animate-\w+/g,''),messageBox[_0x5e08d9(0x318)][a0_0x2890e9(0x321)]=0x0,showSequence();},0x5dc);}function handleCorrectSequence(){const _0x2487d3=a0_0x2890e9;clearInterval(timerInterval),timerContainer[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x320)),createConfetti(),showMessage('성공!',null,'#FFD700'),stage++,sequenceSpeed=Math[a0_0x2890e9(0x33a)](0xc8,sequenceSpeed-0x14),timeLimit=Math[a0_0x2890e9(0x33a)](0xbb8,timeLimit-0x64),setTimeout(()=>{const _0x4e131c=a0_0x2890e9;messageBox[_0x4e131c(0x32f)]=messageBox[_0x4e131c(0x32f)][_0x4e131c(0x337)](/animate-\w+/g,''),messageBox[_0x4e131c(0x318)][a0_0x2890e9(0x321)]=0x0,nextStage();},0x3e8);}function gameOver(){const _0x4e749d=a0_0x2890e9;console[_0x4e749d(0x327)](_0x4e749d(0x33b)),bgm[a0_0x2890e9(0x33c)](),playSound(_0x4e749d(0x300)),gameState=a0_0x2890e9(0x33d),console[a0_0x2890e9(0x327)](a0_0x2890e9(0x33e)),gameOverScreen[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x317)),console[a0_0x2890e9(0x327)](a0_0x2890e9(0x33f),gameOverScreen[a0_0x2890e9(0x32f)]),flashOverlay[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='0.7',setTimeout(()=>{flashOverlay[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='0';},0x64),shakeDuration=0.5,setTimeout(()=>{resetGame();},0x1388);}function showVolumeControls(){const _0x490132=a0_0x2890e9,_0x5992c2=document[a0_0x2890e9(0x24e)](_0x490132(0x340));_0x5992c2&&(_0x5992c2[a0_0x2890e9(0x318)][a0_0x2890e9(0x319)]='flex');}function hideVolumeControls(){const _0x4605d7=a0_0x2890e9,_0x59e633=document[_0x4605d7(0x24e)](_0x4605d7(0x340));_0x59e633&&(_0x59e633[a0_0x2890e9(0x318)][a0_0x2890e9(0x319)]='none');}let uiVisible=!![];function toggleGameUI(){const _0x1a868d=a0_0x2890e9;uiVisible=!uiVisible,uiVisible?(timerContainer[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x320)),progressContainer[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x320)),messageBox[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='1',stageDisplay[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='1',livesContainer[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='1',showVolumeControls()):(timerContainer[a0_0x2890e9(0x315)][a0_0x2890e9(0x2b2)](a0_0x2890e9(0x320)),progressContainer[a0_0x2890e9(0x315)][a0_0x2890e9(0x2b2)](a0_0x2890e9(0x320)),messageBox[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='0',stageDisplay[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='0',livesContainer[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='0',hideVolumeControls());}function createConfetti(){const _0x1a22f8=a0_0x2890e9,_0x120f23=0x32,_0x2b7f3c=['#FFD700','#FF6B6B','#4ECDC4','#45B7D1','#96CEB4','#FFEAA7','#DDA0DD','#98D8C8'];for(let _0x3e806c=0x0;_0x3e806c<_0x120f23;_0x3e806c++){const _0x18e611=document[a0_0x2890e9(0x2ce)](a0_0x2890e9(0x31b));_0x18e611[a0_0x2890e9(0x318)][a0_0x2890e9(0x31c)]=`
           position: fixed;
           width: 10px;
           height: 10px;
           background-color: ${_0x2b7f3c[Math[a0_0x2890e9(0x2c8)](Math[a0_0x2890e9(0x2c4)]()*_0x2b7f3c[a0_0x2890e9(0x2c9)])]};
           top: 50%;
           left: 50%;
           pointer-events: none;
           z-index: 1000;
           border-radius: 2px;
           `,document[a0_0x2890e9(0x2e4)][a0_0x2890e9(0x2ae)](_0x18e611);const _0x1265a3=Math[a0_0x2890e9(0x2c4)]()*Math[a0_0x2890e9(0x2bf)]*0x2,_0x488423=0.2+Math[a0_0x2890e9(0x2c4)]()*0.5,_0x1f012a=0.02,_0x138a92=Math[a0_0x2890e9(0x2c4)]()*0x168,_0x4e749d=(Math[a0_0x2890e9(0x2c4)]()-0.5)*1.5;let _0x420e81=0x0,_0x568f3d=0x0,_0x3b7c23=Math[a0_0x2890e9(0x307)](_0x1265a3)*_0x488423,_0x3d1089=Math[a0_0x2890e9(0x308)](_0x1265a3)*_0x488423-0.5,_0x3a7ced=_0x138a92;const _0x3a549c=()=>{const _0x10e148=a0_0x2890e9;_0x420e81+=_0x3b7c23,_0x568f3d+=_0x3d1089,_0x3d1089+=_0x1f012a,_0x3a7ced+=_0x4e749d,_0x18e611[_0x10e148(0x318)][left]=`${50+_0x420e81}%`,_0x18e611[_0x10e148(0x318)][top]=`${50+_0x568f3d}%`,_0x18e611[_0x10e148(0x318)][_0x10e148(0x341)]=`rotate(${_0x3a7ced}deg)`,_0x18e611[_0x10e148(0x318)][_0x10e148(0x321)]=Math[_0x10e148(0x33a)](0x0,0x1-Math[_0x10e148(0x342)](_0x568f3d)/0xc8);if(_0x568f3d<0xc8&&_0x18e611[a0_0x2890e9(0x343)])requestAnimationFrame(_0x3a549c);else _0x18e611[a0_0x2890e9(0x343)]&&_0x18e611[a0_0x2890e9(0x343)][a0_0x2890e9(0x31e)](_0x18e611);};requestAnimationFrame(_0x3a549c);}}function showMessage(_0x5c1bcb,_0x5e08d9=null,_0x2487d3='#FBBF24'){const _0x4e131c=a0_0x2890e9;messageBox[a0_0x2890e9(0x31d)]=_0x5c1bcb,messageBox[a0_0x2890e9(0x318)][a0_0x2890e9(0x334)]=_0x2487d3,messageBox[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]=0x1,_0x5c1bcb==='성공!'?messageBox[a0_0x2890e9(0x32f)]=_0x4e131c(0x344):messageBox[a0_0x2890e9(0x32f)]=_0x4e131c(0x345),void messageBox[a0_0x2890e9(0x32c)];const _0x4e749d=new THREE[(a0_0x2890e9(0x2be))](0x0,1.6,0x0);_0x4e749d[a0_0x2890e9(0x346)](camera);const _0x490132=(_0x4e749d[x']*0.5+0.5)*renderer[a0_0x2890e9(0x2af)][a0_0x2890e9(0x29f)],_0x5992c2=(_0x4e749d[y']*-0.5+0.5)*renderer[a0_0x2890e9(0x2af)][a0_0x2890e9(0x2a0)];messageBox[a0_0x2890e9(0x318)][left]=`${_0x490132}px`,messageBox[a0_0x2890e9(0x318)][top]=`${_0x5992c2}px`;switch(_0x5e08d9){case'ArrowUp':messageBox[a0_0x2890e9(0x315)][a0_0x2890e9(0x2b2)](a0_0x2890e9(0x347));break;case'ArrowDown':messageBox[a0_0x2890e9(0x315)][a0_0x2890e9(0x2b2)](a0_0x2890e9(0x348));break;case'ArrowLeft':messageBox[a0_0x2890e9(0x315)][a0_0x2890e9(0x2b2)](a0_0x2890e9(0x349));break;case'ArrowRight':messageBox[a0_0x2890e9(0x315)][a0_0x2890e9(0x2b2)](a0_0x2890e9(0x34a));break;default:messageBox[a0_0x2890e9(0x318)][a0_0x2890e9(0x341)]='translate(-50%, -50%)';break;}}function updateUI(){const _0x4605d7=a0_0x2890e9,_0x59e633=livesContainer[a0_0x2890e9(0x313)];for(let _0x1a868d=0x0;_0x1a868d<_0x59e633[a0_0x2890e9(0x2c9)];_0x1a868d++)_0x1a868d<lives?_0x59e633[_0x1a868d][a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x34b)):_0x59e633[_0x1a868d][a0_0x2890e9(0x315)][a0_0x2890e9(0x2b2)](a0_0x2890e9(0x34b));const _0x1a22f8=calculateMemoryIndex(stage);stageDisplay[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x32b)),void stageDisplay[a0_0x2890e9(0x32c)],stageDisplay[a0_0x2890e9(0x31d)]=a0_0x2890e9(0x32d),stageDisplay[a0_0x2890e9(0x315)][a0_0x2890e9(0x32b);}function resetGame(){const _0x120f23=a0_0x2890e9;startScreen[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x317)),gameOverScreen[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x317)),gameState=a0_0x2890e9(0x2ab),lives=0x3,stage=0x1,timerContainer[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x320)),progressContainer[a0_0x2890e9(0x315)][a0_0x2890e9(0x31f)](a0_0x2890e9(0x320)),messageBox[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='0',stageDisplay[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='0',livesContainer[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='0',hideVolumeControls(),isWalking=![],walkAnimationTimer=0x0,lastIdleAction=0x0,character&&(character[a0_0x2890e9(0x2a1)][a0_0x2890e9(0x2a2)](0x0,0.5,0x0),character[a0_0x2890e9(0x2bd)][y']=0x0,character[a0_0x2890e9(0x2ca)][a0_0x2890e9(0x2a2)](0x1,0x1,0x1)),updateUI(),setTimeout(()=>{const _0x2b7f3c=a0_0x2890e9;gameState===_0x2b7f3c(0x2ab)&&startWalking();},0x3e8);}function onMouseMove(_0x3e806c){mouse[x']=_0x3e806c[a0_0x2890e9(0x34c)]/window[a0_0x2890e9(0x34d)]*0x2-0x1,mouse[y']=-(_0x3e806c[a0_0x2890e9(0x34e)]/window[a0_0x2890e9(0x34f)])*0x2+0x1;}function a0_0x3b7c(){const _0x35092b=['left','right','top','bottom','back','front','head','foreheadHair','clone','2997450JbALjX','leftEye','rightEye','nose','mouth','body','shirt','leftArm','rightArm','leftLeg','rightLeg','AudioContext','webkitAudioContext','10708860ctbTYv','error','1008ZprNYV','Web Audio API is not supported in this browser','createOscillator','createGain','connect','destination','gain','setValueAtTime','currentTime','type','frequency','linearRampToValueAtTime','exponentialRampToValueAtTime','success','forEach','start','stop','incorrect','gameover','copy','dance','stretch','wave','nod','grassWalk','cos','sin','sqrt','atan2','min','lerp','distanceTo','getDelta','getElapsedTime','addScaledVector','remove','splice','children','countdown','classList','contains','hidden','style','display','render','div','cssText','textContent','removeChild','remove','opacity-0','opacity','volume','value','currentTime','play','catch','log','Music auto-play was prevented. A user interaction is needed.','pow','round','iq-zoom','offsetWidth','keys','innerHTML','className','SHOWING','showSequence: 게임 상태가 SHOWING이 아님:','showSequence: 중간에 게임 상태 변경됨:','backgroundColor','color','fontWeight','fontSize','replace','startPlayerTurn: 게임 상태가 SHOWING이 아님:','WAITING','max','gameOver 함수 호출됨','pause','GAMEOVER','게임오버 화면 표시 시도','게임오버 화면 클래스:','volume-controls','transform','abs','parentNode','text-6xl md:text-8xl font-bold text-yellow-300','text-4xl md:text-6xl font-bold text-yellow-300','project','animate-up','animate-down','animate-left','animate-right','lost','clientX','innerWidth','clientY','innerHeight','sfx-volume','2295540JbWqhp','addEventListener','2428296kTsLgV','timer-container','10aWNBmD','20f','20g','20h','20i','20j','20k','20l','20m','20n','20o','20p','20q','20r','20s','20t','20u','20v','20w','20x','20y','20z','210','211','212','213','214','215','216','217','lives-container','219','21a','21b','21c','21d','21e','21f','220','221','222','223','224','225','226','227','228','229','22a','22b','22c','22d','1008955sYgVBE','22f','230','231','start-screen','233','234','235','236','237','238','239','23a','→ 함께성장','23c','23d','23e','23f','240','241','242','243','244','245','114984wXUoAn','247','248','249','24a','24b','24c','24d','getElementById','timer-bar','250','251','retry-button','253','254','255','256','257','258','259','25a','25b','25c','25d','25e','25f','1368880kZJmDu','261','262','← 협업,소통','264','265','266','267','268','269','26a','26b','26c','26d','26e','26f','270','271','272','273','game-over-screen','275','276','277','278','279','27a','27b','27c','27d','27e','27f','280','281','282','283','284','285','286','287','288','289','28a','28b','bgm-volume','background','28e','28f','290','291','292','293','294','295','1089999QvWkkw','297','298','299','1476333XgYwzR','Color','fog','Fog','PerspectiveCamera','clientWidth','clientHeight','position','set','2a3','lookAt','WebGLRenderer','↓ 강한실행력','setSize','setPixelRatio','devicePixelRatio','shadowMap','START','enabled','11XwYyvV','appendChild','domElement','Clock','AmbientLight','add','DirectionalLight','castShadow','stage-display','progress-container','mapSize','width','height','PlaneGeometry','MeshStandardMaterial','Mesh','rotation','Vector3','PI','Scene','receiveShadow','Group','SphereGeometry','random','BoxGeometry','push','CylinderGeometry','floor','length','scale','setScalar','MeshBasicMaterial','velocity','createElement','canvas','getContext','2d','fillStyle','fillRect','font','textAlign','textBaseline','fillText','CanvasTexture','1127917TjLgCC','roughness','metalness'];_0x35092b.forEach((_0x4d181d,_0x1c971e)=>{_0x35092b.push(_0x35092b.shift());});return _0x35092b;}startButton[a0_0x2890e9(0x20d)](a0_0x2890e9(0x217),startGame),retryButton[a0_0x2890e9(0x20d)](a0_0x2890e9(0x217),resetGame),bgmVolumeSlider[a0_0x2890e9(0x20d)]('input',_0x1c971e=>{bgm[a0_0x2890e9(0x322)]=_0x1c971e[a0_0x2890e9(0x1ec)][a0_0x2890e9(0x323)]/0x64;}),sfxVolumeSlider[a0_0x2890e9(0x20d)]('input',_0x4d181d=>{sfxVolume=_0x4d181d[a0_0x2890e9(0x1ec)][a0_0x2890e9(0x323)]/0x64;}),window[a0_0x2890e9(0x20d)](a0_0x2890e9(0x1ed),handlePlayerInput),window[a0_0x2890e9(0x20d)](a0_0x2890e9(0x1ee),()=>{const _0x1c971e=a0_0x2890e9;camera[a0_0x2890e9(0x1ef)]=canvasContainer[a0_0x2890e9(0x29f)]/canvasContainer[a0_0x2890e9(0x2a0)],camera[a0_0x2890e9(0x1f0)](),renderer[a0_0x2890e9(0x2a7)](canvasContainer[a0_0x2890e9(0x29f)],canvasContainer[a0_0x2890e9(0x2a0)]);}),window[a0_0x2890e9(0x20d)](a0_0x2890e9(0x1f1),onMouseMove),document[a0_0x2890e9(0x1f2)](a0_0x2890e9(0x1fa))[a0_0x2890e9(0x2fc)](_0x1c971e=>{const _0x4d181d=a0_0x2890e9;_0x1c971e[a0_0x2890e9(0x20d)](_0x4d181d(0x217),_0x35092b=>{const _0x4d181d=a0_0x2487,_0x1c971e=_0x35092b[a0_0x2487(0x1f4)][a0_0x2487(0x1f5)](_0x4d181d(0x1f6)),_0x35092b=new KeyboardEvent(_0x4d181d(0x1ed),{'key':_0x1c971e,'code':_0x1c971e,'keyCode':_0x1c971e===_0x4d181d(0x1f7)?0x26:_0x1c971e===_0x4d181d(0x1f8)?0x28:_0x1c971e===_0x4d181d(0x1f9)?0x25:0x27,'which':_0x1c971e===_0x4d181d(0x1f7)?0x26:_0x1c971e===_0x4d181d(0x1f8)?0x28:_0x1c971e===_0x4d181d(0x1f9)?0x25:0x27,'bubbles':!![],'cancelable':!![]});handlePlayerInput(_0x35092b);});}),init3D(),document[a0_0x2890e9(0x24e)](a0_0x2890e9(0x1fa))[a0_0x2890e9(0x315)][a0_0x2890e9(0x2b2)](a0_0x2890e9(0x1fb)),livesContainer[a0_0x2890e9(0x318)][a0_0x2890e9(0x321)]='0',hideVolumeControls(),bgmVolumeSlider[a0_0x2890e9(0x323)]=BGM_DEFAULT_VOLUME,sfxVolumeSlider[a0_0_2890e9(0x323)]=SFX_DEFAULT_VOLUME;    </script>
</body>
</html>